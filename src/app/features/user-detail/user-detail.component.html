<div class="bg-white py-8 px-4 sm:px-6 lg:px-8">
  <div class="max-w-3xl mx-auto">
    <div class="mb-8">
      <button 
        (click)="router.navigate(['/users'])" 
        class="inline-flex items-center text-gray-600 hover:text-blue-600 font-medium transition-colors"
      >
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        <span>Volver</span>
      </button>
    </div>

    @if (error()) {
      <div class="bg-white rounded-lg border border-red-200 p-8 text-center">
        <p class="text-red-600 mb-4">{{ error() }}</p>
        <a routerLink="/users" 
           class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors">
          Volver a la lista
        </a>
      </div>
    } @else if (user()) {
      <!-- User Profile Card -->
      <div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
        <!-- Header Section -->
        <div class="bg-blue-50 px-8 py-8 border-b border-gray-200">
          <div class="flex items-center gap-6">
            <img 
              [src]="user()!.picture.large" 
              [alt]="getFullName()"
              [attr.data-initials]="getInitials()"
              (error)="onImageError($event)"
              class="h-24 w-24 rounded-full object-cover border-3 border-white shadow-sm"
            />
            <div>
              <h1 class="text-3xl font-bold text-gray-900 mb-2">{{ getFullName() }}</h1>
              <p class="text-gray-600 mb-1">{{ user()!.email }}</p>
            </div>
          </div>
        </div>

        <div class="p-8">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
              <div class="text-xs text-gray-500 uppercase tracking-wide mb-2">Nombre</div>
              <div class="text-base text-gray-900">{{ getFullName() }}</div>
            </div>

            <!-- Email -->
            <div>
              <div class="text-xs text-gray-500 uppercase tracking-wide mb-2">Email</div>
              <div class="text-base text-gray-900 break-all">{{ user()!.email }}</div>
            </div>

            <div>
              <div class="text-xs text-gray-500 uppercase tracking-wide mb-2">Teléfono</div>
              <div class="text-base text-gray-900">{{ user()!.phone }}</div>
            </div>

            <div>
              <div class="text-xs text-gray-500 uppercase tracking-wide mb-2">Edad</div>
              <div class="text-base text-gray-900">{{ user()!.dob.age }} años</div>
            </div>

            <div>
              <div class="text-xs text-gray-500 uppercase tracking-wide mb-2">Ciudad</div>
              <div class="text-base text-gray-900">{{ user()!.location.city }}, {{ user()!.location.state }}</div>
            </div>

            <!-- Country -->
            <div>
              <div class="text-xs text-gray-500 uppercase tracking-wide mb-2">País</div>
              <div class="flex items-center gap-2">
                <img 
                  [src]="getFlagUrl(user()!.location.country)"
                  [alt]="user()!.location.country"
                  class="w-5 h-4 object-cover rounded border border-gray-300"
                  (error)="onFlagError($event)"
                />
                <span class="text-base text-gray-900">{{ user()!.location.country }}</span>
              </div>
            </div>
          </div>

          <div class="mt-8 pt-8 border-t border-gray-200">
            <div class="text-xs text-gray-500 uppercase tracking-wide mb-2">Dirección Completa</div>
            <div class="text-base text-gray-900">{{ getFullAddress() }}</div>
          </div>
        </div>
      </div>
    }
  </div>
</div>
